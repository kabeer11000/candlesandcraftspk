---
import BaseLayout from '@/layouts/BaseLayout.astro';

// Get order ID from query params (client-side)
---
<BaseLayout title="Order Confirmed">
    <div class="py-20 md:py-28">
        <div class="max-w-3xl mx-auto text-center">
            <svg class="w-16 h-16 mx-auto text-green-500 mb-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <h1 class="text-3xl md:text-4xl font-bold font-serif text-cnc-highlight mb-4 tracking-tight">Thank You For Your Order!</h1>
            <p class="text-lg text-cnc-dim mb-8">Your order has been placed successfully and will be shipped soon. Keep an eye on your email for updates.</p>
            
            <div class="bg-cnc-medium/30 border border-cnc-medium/50 -rounded p-4 mb-8 inline-block">
                <p class="text-cnc-dim text-sm">Your Order ID:</p>
                <p id="order-id" class="font-mono text-cnc-light text-lg md:text-xl tracking-wider">Loading...</p>
                <p class="text-xs text-cnc-dim mt-2">Take a screenshot of this page to save your order ID.</p>
            </div>

            <p class="text-cnc-dim text-sm mb-10">You will pay <strong class="text-cnc-light">Cash on Delivery</strong> when your order arrives.</p>
            
            <div class="border-t border-cnc-medium/50 pt-8 mt-8 text-sm">
                <p class="text-cnc-dim mb-4">If you have any questions, please contact us:</p>
                <div class="space-y-2 md:space-y-0 md:space-x-6">
                    <a href="mailto:kabeer11000@gmail.com" class="inline-block text-cnc-light hover:text-cnc-highlight transition-colors underline underline-offset-2">kabeer11000@gmail.com</a>
                    <span class="hidden md:inline-block text-cnc-dim">|</span>
                    <a href="tel:+923303295735" class="inline-block text-cnc-light hover:text-cnc-highlight transition-colors underline underline-offset-2">+92 330 329 5735</a>
                </div>
            </div>

            <div class="mt-12">
                <a href="/shop" class="inline-block text-sm font-mono uppercase tracking-widest text-cnc-light hover:text-blue-400 transition-colors group">
                    Continue Shopping <span class="inline-block transition-transform duration-200 group-hover:translate-x-1">&rarr;</span>
                </a>
            </div>
        </div>
    </div>
</BaseLayout>

<script>
    // Get order ID from URL and display it
    const params = new URLSearchParams(window.location.search);
    const orderId = params.get('orderId');
    const orderIdElement = document.getElementById('order-id');

    if (orderIdElement && orderId) {
        orderIdElement.textContent = orderId;
    } else if (orderIdElement) {
        orderIdElement.textContent = 'Unavailable'; // Handle case where ID is missing
    }
</script> 